{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nexport default class FullCalendar extends Component {\n  constructor() {\n    super(...arguments);\n    this.elRef = createRef();\n    this.needCustomRenderingResize = false;\n    this.state = {\n      customRenderingMap: new Map()\n    };\n  }\n  render() {\n    const portalNodes = [];\n    for (const customRendering of this.state.customRenderingMap.values()) {\n      const {\n        generatorMeta\n      } = customRendering;\n      const vnode = typeof generatorMeta === 'function' ? generatorMeta(customRendering.renderProps) : generatorMeta;\n      portalNodes.push(createPortal(vnode, customRendering.containerEl, customRendering.id));\n    }\n    return React.createElement(\"div\", {\n      ref: this.elRef\n    }, portalNodes);\n  }\n  componentDidMount() {\n    const customRenderingStore = new CustomRenderingStore();\n    this.calendar = new Calendar(this.elRef.current, Object.assign(Object.assign({}, this.props), {\n      handleCustomRendering: customRenderingStore.handle.bind(customRenderingStore),\n      customRenderingMetaMap: this.props\n    }));\n    this.calendar.render();\n    customRenderingStore.subscribe(customRenderingMap => {\n      this.needCustomRenderingResize = true;\n      this.setState({\n        customRenderingMap\n      });\n    });\n  }\n  componentDidUpdate(prevProps) {\n    const updates = computeUpdates(prevProps, this.props);\n    if (Object.keys(updates).length) {\n      this.calendar.resetOptions(updates, true);\n    }\n    if (this.needCustomRenderingResize) {\n      this.needCustomRenderingResize = false;\n      this.calendar.updateSize();\n    }\n  }\n  componentWillUnmount() {\n    this.calendar.destroy();\n  }\n  getApi() {\n    return this.calendar;\n  }\n}\n// Utils\nfunction computeUpdates(origObj, newObj) {\n  const updates = {};\n  if (newObj !== origObj) {\n    for (const key in newObj) {\n      if (newObj[key] !== origObj[key]) {\n        updates[key] = newObj[key];\n      }\n    }\n  }\n  return updates;\n}","map":{"version":3,"mappings":"AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,SAAS,QAAqB,OAAO;AAChE,SAASC,YAAY,QAAQ,WAAW;AACxC,SAGEC,QAAQ,QACH,oBAAoB;AAC3B,SAEEC,oBAAoB,QACf,6BAA6B;AAMpC,eAAc,MAAOC,YAAa,SAAQL,SAAyC;EAAnFM;;IACU,UAAK,GAAGL,SAAS,EAAkB;IAEnC,8BAAyB,GAAG,KAAK;IAEzC,UAAK,GAAkB;MACrBM,kBAAkB,EAAE,IAAIC,GAAG;KAC5B;EA+DH;EA7DEC,MAAM;IACJ,MAAMC,WAAW,GAAkB,EAAE;IAErC,KAAK,MAAMC,eAAe,IAAI,IAAI,CAACC,KAAK,CAACL,kBAAkB,CAACM,MAAM,EAAE,EAAE;MACpE,MAAM;QAAEC;MAAa,CAAE,GAAGH,eAAe;MACzC,MAAMI,KAAK,GAAG,OAAOD,aAAa,KAAK,UAAU,GAC/CA,aAAa,CAACH,eAAe,CAACK,WAAW,CAAC,GAC1CF,aAAa;MAEfJ,WAAW,CAACO,IAAI,CACdf,YAAY,CACVa,KAAK,EACLJ,eAAe,CAACO,WAAW,EAC3BP,eAAe,CAACQ,EAAE,CACnB,CACF;;IAGH,OACEpB;MAAKqB,GAAG,EAAE,IAAI,CAACC;IAAK,GACjBX,WAAW,CACR;EAEV;EAEAY,iBAAiB;IACf,MAAMC,oBAAoB,GAAG,IAAInB,oBAAoB,EAAW;IAEhE,IAAI,CAACoB,QAAQ,GAAG,IAAIrB,QAAQ,CAAC,IAAI,CAACkB,KAAK,CAACI,OAAO,kCAC1C,IAAI,CAACC,KAAK;MACbC,qBAAqB,EAAEJ,oBAAoB,CAACK,MAAM,CAACC,IAAI,CAACN,oBAAoB,CAAC;MAC7EO,sBAAsB,EAAE,IAAI,CAACJ;IAAK,GAClC;IAEF,IAAI,CAACF,QAAQ,CAACf,MAAM,EAAE;IACtBc,oBAAoB,CAACQ,SAAS,CAAExB,kBAAkB,IAAI;MACpD,IAAI,CAACyB,yBAAyB,GAAG,IAAI;MACrC,IAAI,CAACC,QAAQ,CAAC;QAAE1B;MAAkB,CAAE,CAAC;IACvC,CAAC,CAAC;EACJ;EAEA2B,kBAAkB,CAACC,SAA0B;IAC3C,MAAMC,OAAO,GAAGC,cAAc,CAACF,SAAS,EAAE,IAAI,CAACT,KAAK,CAAC;IAErD,IAAIY,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CAACI,MAAM,EAAE;MAC/B,IAAI,CAAChB,QAAQ,CAACiB,YAAY,CAACL,OAAO,EAAE,IAAI,CAAC;;IAG3C,IAAI,IAAI,CAACJ,yBAAyB,EAAE;MAClC,IAAI,CAACA,yBAAyB,GAAG,KAAK;MACtC,IAAI,CAACR,QAAQ,CAACkB,UAAU,EAAE;;EAE9B;EAEAC,oBAAoB;IAClB,IAAI,CAACnB,QAAQ,CAACoB,OAAO,EAAE;EACzB;EAEAC,MAAM;IACJ,OAAO,IAAI,CAACrB,QAAQ;EACtB;;AAGF;AAEA,SAASa,cAAc,CAACS,OAAY,EAAEC,MAAW;EAC/C,MAAMX,OAAO,GAAQ,EAAE;EAEvB,IAAIW,MAAM,KAAKD,OAAO,EAAE;IACtB,KAAK,MAAME,GAAG,IAAID,MAAM,EAAE;MACxB,IAAIA,MAAM,CAACC,GAAG,CAAC,KAAKF,OAAO,CAACE,GAAG,CAAC,EAAE;QAChCZ,OAAO,CAACY,GAAG,CAAC,GAAGD,MAAM,CAACC,GAAG,CAAC;;;;EAKhC,OAAOZ,OAAO;AAChB","names":["React","Component","createRef","createPortal","Calendar","CustomRenderingStore","FullCalendar","constructor","customRenderingMap","Map","render","portalNodes","customRendering","state","values","generatorMeta","vnode","renderProps","push","containerEl","id","ref","elRef","componentDidMount","customRenderingStore","calendar","current","props","handleCustomRendering","handle","bind","customRenderingMetaMap","subscribe","needCustomRenderingResize","setState","componentDidUpdate","prevProps","updates","computeUpdates","Object","keys","length","resetOptions","updateSize","componentWillUnmount","destroy","getApi","origObj","newObj","key"],"sources":["D:\\Desktop\\Testing\\frontend\\node_modules\\@fullcalendar\\react\\src\\index.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component, createRef, ReactPortal } from 'react'\nimport { createPortal } from 'react-dom'\nimport {\n  CalendarOptions,\n  CalendarApi,\n  Calendar,\n} from '@fullcalendar/core'\nimport {\n  CustomRendering,\n  CustomRenderingStore,\n} from '@fullcalendar/core/internal'\n\ninterface CalendarState {\n  customRenderingMap: Map<string, CustomRendering<any>>\n}\n\nexport default class FullCalendar extends Component<CalendarOptions, CalendarState> {\n  private elRef = createRef<HTMLDivElement>()\n  private calendar: Calendar\n  private needCustomRenderingResize = false\n\n  state: CalendarState = {\n    customRenderingMap: new Map<string, CustomRendering<any>>()\n  }\n\n  render() {\n    const portalNodes: ReactPortal[] = []\n\n    for (const customRendering of this.state.customRenderingMap.values()) {\n      const { generatorMeta } = customRendering\n      const vnode = typeof generatorMeta === 'function' ?\n        generatorMeta(customRendering.renderProps) :\n        generatorMeta\n\n      portalNodes.push(\n        createPortal(\n          vnode,\n          customRendering.containerEl,\n          customRendering.id, // key\n        )\n      )\n    }\n\n    return (\n      <div ref={this.elRef}>\n        {portalNodes}\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    const customRenderingStore = new CustomRenderingStore<unknown>()\n\n    this.calendar = new Calendar(this.elRef.current, {\n      ...this.props,\n      handleCustomRendering: customRenderingStore.handle.bind(customRenderingStore),\n      customRenderingMetaMap: this.props, // render functions are given as props\n    })\n\n    this.calendar.render()\n    customRenderingStore.subscribe((customRenderingMap) => {\n      this.needCustomRenderingResize = true\n      this.setState({ customRenderingMap })\n    })\n  }\n\n  componentDidUpdate(prevProps: CalendarOptions) {\n    const updates = computeUpdates(prevProps, this.props)\n\n    if (Object.keys(updates).length) {\n      this.calendar.resetOptions(updates, true)\n    }\n\n    if (this.needCustomRenderingResize) {\n      this.needCustomRenderingResize = false\n      this.calendar.updateSize()\n    }\n  }\n\n  componentWillUnmount() {\n    this.calendar.destroy()\n  }\n\n  getApi(): CalendarApi {\n    return this.calendar\n  }\n}\n\n// Utils\n\nfunction computeUpdates(origObj: any, newObj: any): any {\n  const updates: any = {}\n\n  if (newObj !== origObj) {\n    for (const key in newObj) {\n      if (newObj[key] !== origObj[key]) {\n        updates[key] = newObj[key]\n      }\n    }\n  }\n\n  return updates\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}